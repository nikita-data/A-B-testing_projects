# Исследование результатов A/B-теста интернет-магазина
## [Ссылка на Google Colab с интерактивными графиками](https://colab.research.google.com/drive/1taSHlPE6poMnP1spsbPs9112hZCLl87C?usp=drive_link)
## Описание проекта
В рамках данного проекта мы произведём оценку на предмет корректности проведения теста и оценим результаты A/B-теста. Найдём особенности поведения пользователей нашего интернет-магазина в контрольной и тестовой группе. В нашем распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.
## Цель исследования
- Оценить корректность проведения теста и проанализировать его результаты
- Дать развернутый вывод о соответствии теста требованиям технического задания
- Провести исследовательский анализ данных для поиска закономерностей и особенностей поведения пользователей.
- Провести проверку гипотез о разнице ключевых метрик группы: А (контрольная) и B (новая платёжная воронка). Оценить результаты A/B-тестирования.
- Сделать общее заключение о корректности проведения теста и дать рекомендации по результатам исследования.
## Инструменты
Python, pandas, matplotlib, scipy, numpy, math, warnings, re, plotly, missingno, proportions_ztest, make_subplots
## Выводы
В рамках проекта была проведена оценка корректности проведения теста на соответствие техническому заданию. Найдены зависимости и особенности в исследовательском анализе, построена воронка продаж в разрезе групп. Осуществлена проверка гипотезы  с помощью стат. теста.

**В рамках исследования данных были обнаружены некоторые зависимости и особенности:**

 - В обеих группах наблюдается большое кол-во пользователей без событий (только с регистрацией). Однако их значительно больше в группе Б. В целом пользователи тестовой группы Б ведут себя менее активно, по сравнению с контрольной группой А. Это наводит на определённые мысли об ухудшении пользовательской активности из-за изменений, связанных с внедрением улучшенной рекомендательной системы.
 - Обнаружена существенная разница числа событий на пользователя между группами А и B в 64 %. Среднее число событий на пользователя в группе A: 4.91 события. Среднее число событий на пользователя в группе B: 1.76 события.Если рассматривать авторизированных пользователей, то зафиксировано снижение пользовательской активности в группе Б на 20% по сравнению с группой А.
 - Найден сильнейший разрыв по по кол-ву событий между группами с 13 декабря. Причиной этому является несколько факторов:
   - Разные доли числа пользователей в группах, в группе Б - меньше.
   - Высокая доля пользователей без событий(только с регистрацией) в группе Б
   - Пользовательская активность в группе Б на 20% ниже по сравнению с группой А
 - Во второй половине декабря в Европейских странах всегда увеличивается покупательская активность из-за предстоящих праздников это побудило пользователей совершать больше событий в обеих группах.
 - Было найдено одно пересечение маркетингового события `Christmas&New Year Promo` с периодом проведения теста,однако влияние на ход нашего теста выявлено не было.



**Воронка продаж**

Мы определили последовательность действий в воронке событий:

- ↓ registration
- ↓ login
- ↓ product_page
- ↓ product_cart
-   purchase

Ниже представлена итоговая таблица распределения уникального кол-ва пользователей в разрезе групп по каждому событию


| event_name      |    A |    B | conversion_A_% | conversion_B_% |
|-----------------|------|------|-----------------|-----------------|
| registration    | 3634 | 2717 |         100.00  |         100.00  |
| login           | 2604 |  876 |          71.66  |          32.24  |
| product_page    | 1685 |  493 |          46.37  |          18.15  |
| product_cart    |  782 |  244 |          21.52  |           8.98  |
| purchase        |  833 |  249 |          22.92  |           9.16  |


Анализ конверсии показывает, что тестовая группа (Б) с рекомендательной системой имеет значительное ухудшение показателей по сравнению с контрольной группой (А). Пользовательская активность и покупательская способность в группе Б снизились, особенно заметно в случае целевого действия "purchase" (9.2% против 22.9% в группе А).Относительное различие найденных конверсий группы B к A по каждому событию составила более 50%. Ожидания улучшения конверсии в тестовой группе не оправдались, и рекомендательная система показала негативные результаты.Ожидаемый эффект ТЗ в виде улучшение каждой метрики не менее, чем на 5 процентных пунктов достигнут не был.


**Проверка гипотезы**


Нами были проведены A/B тесты,чтобы подтвердить или опровергнуть гипотезу о различии конверсии в событие от общего числа зарегистрированных пользователей между группами А и Б. А конкретно, нас интересовало,что за 14 дней с момента регистрации в системе пользователи покажут улучшение каждой метрики не менее, чем на 5 процентных пунктов благодаря внедрению улучшенной рекомендательной системы. Для проведения тестов мы воспользовались стат. критерием о проверке гипотезы о равенстве долей(z тест).

Мы провели 4 стат. теста и проверили 1 гипотезу с поправкой на множественные сравнения.Результат по всем тестам категоричный: отвергаем H0, конверсии групп неравны.Рассчитанное ранее относительное различие найденных конверсий группы B к A по каждому событию составила более 50%,где тестовая группа (Б) с рекомендательной системой имеет значительное ухудшение показателей по сравнению с контрольной группой (А).Значит мы можем утверждать, что по результатам стат. тестов рекомендательная система оказала негативное воздействие на пользователей.Однако мы знаем ,что по результатам проведённой оценки на предмет корректности проведения теста и его  соответствия техническому заданию, тест `recommender_system_test` частично не соответствует требованиям ТЗ и методологии проведения АБ тестирования.Повторим ещё раз все найденные проблемы:

- Неравномерная динамика набора пользователей в группы
- Разные доли числа пользователей в группах
- Наличие пересечённых пользователей группы Б (конкурирующий тест) и пользователей группы А и Б (наш тест) в кол-ве 783 ч.
- Дата остановки теста не соответствует требованиям ТЗ, требование: 2021-01-04, факт: 2020-12-30
- Доля пользователей без событий в группе Б составила почти 68%, при абсолютном значении в 1840 ч.

Мы не можем однозначно доверять результатам проведённого тестирования.


**Рекомендации**  

Требуется пересмотреть методологию проектирования и проведения А/Б тестирования для избежания ошибок. Необходимо составить  перечень правил для избежания типовых ошибок,котрые были обнаружены в нашем тесте. Данный тест рекомендуется  перепровести после устранения всех проблем.
